<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>3D nháº­p vai â€” CÃ¢y thÃ´ng & Tinh vÃ¢n</title>
    <link rel="stylesheet" href="./ui.css" />
    <link rel="stylesheet" href="./immersive.css" />

    <script type="importmap">
      {
        "imports": {
          "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
          "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
        }
      }
    </script>
  </head>
  <body class="page-immersive">
    <canvas id="immersive" aria-label="Immersive 3D canvas"></canvas>

    <nav class="nav" aria-label="Äiá»u hÆ°á»›ng">
      <a class="nav__link" href="./index.html">CÃ¢y thÃ´ng</a>
      <a class="nav__link" href="./card.html">Thiá»‡p chÃºc má»«ng</a>
      <a class="nav__link" href="./countdown.html">Äáº¿m ngÆ°á»£c</a>
      <a class="nav__link" href="./fireworks.html">PhÃ¡o hoa</a>
      <a class="nav__link" href="./globe.html">Snow Globe</a>
      <a class="nav__link nav__link--active" href="./immersive.html">3D nháº­p vai</a>
      <a class="nav__link" href="./benchmark.html">Benchmark</a>
    </nav>

    <section class="card-ui__panel" aria-label="3D nháº­p vai">
      <div class="card-ui__header">
        <div class="card-ui__title">3D nháº­p vai</div>
        <button id="im-panel-toggle" class="card-ui__toggle" type="button" aria-expanded="true">Panel</button>
      </div>

      <div class="card-ui__row">
        <span class="card-ui__label">Camera AI</span>
        <button id="im-camera" class="card-ui__btn" type="button">Báº­t camera</button>
      </div>

      <div class="card-ui__row">
        <span class="card-ui__label">ThÆ° viá»‡n bá»™ nhá»›</span>
        <input id="im-upload" class="card-ui__input" type="file" accept="image/*" multiple />
      </div>

      <div class="card-ui__row">
        <span class="card-ui__label">Cá»­ chá»‰</span>
        <div id="im-gesture" class="card-ui__val">â€”</div>
      </div>

      <div class="card-ui__row">
        <span class="card-ui__label">Tráº¡ng thÃ¡i</span>
        <div id="im-status" class="card-ui__val">Sáºµn sÃ ng</div>
      </div>

      <div class="card-ui__status">
        âœŠ Náº¯m Ä‘áº¥m: gom háº¡t â†’ cÃ¢y thÃ´ng<br />
        ğŸ– Má»Ÿ tay: ná»• â†’ tinh vÃ¢n<br />
        ğŸ‘‹ Váº«y: xoay phá»‘i cáº£nh (cÃ³ quÃ¡n tÃ­nh)<br />
        ğŸ¤ Chá»¥m: zoom áº£nh vá»«a táº£i lÃªn
      </div>
    </section>

    <!-- Camera preview (video + skeleton overlay) -->
    <div id="im-video-wrap" class="im-video-wrap" aria-hidden="true">
      <video id="im-video" playsinline muted autoplay></video>
      <canvas id="im-skeleton" aria-hidden="true"></canvas>
    </div>

    <!-- UI helpers (theme toggle, nav active, panel collapse) -->
    <script src="./ui.js" defer></script>

    <!-- MediaPipe (global) -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.min.js" crossorigin="anonymous"></script>

    <!-- App -->
    <script type="module" src="./immersive.js"></script>
  </body>
</html>
